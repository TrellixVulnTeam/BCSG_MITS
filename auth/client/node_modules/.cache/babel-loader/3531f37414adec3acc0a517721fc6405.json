{"ast":null,"code":"import actionTypes from './actionTypes';\nimport axios from 'axios';\nexport const signUp = (formData, cb) => {\n  console.log(formData); //take username and passpword\n  //call our server api \n  //wait for an authenticated token \n  //call reducer to store token\n  //formData => {email, password}\n\n  return async dispatch => {\n    try {\n      let response = await axios.post('http://localhost:3001/signup', formData); //formdata will put on header\n\n      console.log(response.data.token); //token\n      //dispatch action to reducer \n\n      dispatch({\n        type: \"AUTH_USER\",\n        data: response.data.token\n      });\n      localStorage.setItem('token', response.data.token);\n      cb();\n    } catch (e) {\n      console.log('error');\n      console.log(e);\n    }\n  };\n}; //logging into application\n\nexport const signIn = (formData, cb) => {\n  return async dispatch => {\n    try {\n      let response = await axios.post('http://localhost:3001/signin', formData);\n      dispatch({\n        type: \"AUTH_USER\",\n        data: response.data.token\n      });\n      console.log('signin', response.data.token);\n      localStorage.setItem('token', response.data.token);\n      cb();\n    } catch (e) {}\n  };\n}; //logout\n\nexport const signOut = cb => {\n  return dispatch => {\n    localStorage.removeItem('token');\n    dispatch({\n      type: \"AUTH_USER\",\n      data: ''\n    });\n    console.log('signing out');\n    cb();\n  };\n}; // import actionTypes from './actionTypes';\n// import axios from 'axios';\n// export const signUp = (formData, cb) => {\n//     console.log(formData)\n//     // take email and password \n//     // call server API \n//     // wait for an authenticated token \n//     // call reducer to store token \n//     // formData => {email, password}\n//     // returning a function not an object\n//     // return dispatch => .... could be seen like this on one line \n//     // SIGN UP\n//     return async dispatch => {\n//         try{\n//             let response = await axios.post('http://localhost:3001/signup', formData) //form data will be put on header\n//             console.log(\"signUp\", response.data.token); //response should give back a token\n//             // dispatch action to reducer\n//             dispatch({type: \"AUTH_USER\", data: response.data.token});\n//             localStorage.setItem('token', response.data.token);\n//             cb();\n//         }\n//         catch(e){\n//             console.log('error')\n//             console.log(e);\n//         }\n//     }\n// }\n// // SIGN IN\n// export const signIn = (formData) => {\n//     return async dispatch => {\n//         try{\n//             let response = await axios.post('http://localhost:3001/signin', formData);\n//             dispatch({type: \"AUTH_USER\", data: response.data.token})\n//             console.log(\"signIn\", response.data.token)\n//             localStorage.setItem('token', response.data.token);\n//         }\n//         catch(e){\n//             console.log(e)\n//         }\n//     }\n// }\n// // SIGN OUT: clears out the token from global state and local storage\n// export const signOut = () => {\n//     localStorage.removeItem('token');\n//     console.log(\"signing out\")\n//     return {\n//         type: \"AUTH_USER\",\n//         data: ''\n//     }\n// }","map":{"version":3,"sources":["C:/Users/Tato/Desktop/Capstone/BCSG/auth/client/src/actions/index.js"],"names":["actionTypes","axios","signUp","formData","cb","console","log","dispatch","response","post","data","token","type","localStorage","setItem","e","signIn","signOut","removeItem"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,QAAD,EAAWC,EAAX,KAAkB;AAEpCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAFoC,CAGpC;AACA;AACA;AACA;AAEA;;AAEA,SAAO,MAAMI,QAAN,IAAgB;AAEnB,QAAG;AACC,UAAIC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,8BAAX,EAA2CN,QAA3C,CAArB,CADD,CAC2E;;AAE1EE,MAAAA,OAAO,CAACC,GAAR,CAAYE,QAAQ,CAACE,IAAT,CAAcC,KAA1B,EAHD,CAGkC;AAEjC;;AAEAJ,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE,WAAP;AAAoBF,QAAAA,IAAI,EAAEF,QAAQ,CAACE,IAAT,CAAcC;AAAxC,OAAD,CAAR;AAEAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,QAAQ,CAACE,IAAT,CAAcC,KAA5C;AAEAP,MAAAA,EAAE;AAEL,KAbD,CAcA,OAAMW,CAAN,EAAQ;AACJV,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYS,CAAZ;AACH;AACJ,GApBD;AAqBH,CA/BM,C,CAiCP;;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACb,QAAD,EAAWC,EAAX,KAAkB;AAEpC,SAAO,MAAMG,QAAN,IAAiB;AAEpB,QAAG;AACC,UAAIC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,8BAAX,EAA2CN,QAA3C,CAArB;AAEAI,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE,WAAP;AAAoBF,QAAAA,IAAI,EAAEF,QAAQ,CAACE,IAAT,CAAcC;AAAxC,OAAD,CAAR;AAEAN,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBE,QAAQ,CAACE,IAAT,CAAcC,KAApC;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,QAAQ,CAACE,IAAT,CAAcC,KAA5C;AAEAP,MAAAA,EAAE;AACL,KATD,CAUA,OAAMW,CAAN,EAAQ,CAEP;AACJ,GAfD;AAgBH,CAlBM,C,CAoBP;;AAEA,OAAO,MAAME,OAAO,GAAIb,EAAD,IAAQ;AAE3B,SAAOG,QAAQ,IAAG;AACdM,IAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACAX,IAAAA,QAAQ,CAAC;AACLK,MAAAA,IAAI,EAAE,WADD;AAELF,MAAAA,IAAI,EAAE;AAFD,KAAD,CAAR;AAKAL,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAEAF,IAAAA,EAAE;AACL,GAVD;AAaH,CAfM,C,CAsBP;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const signUp = (formData, cb) => {\r\n    \r\n    console.log(formData);\r\n    //take username and passpword\r\n    //call our server api \r\n    //wait for an authenticated token \r\n    //call reducer to store token\r\n\r\n    //formData => {email, password}\r\n    \r\n    return async dispatch=>{\r\n        \r\n        try{\r\n            let response = await axios.post('http://localhost:3001/signup', formData) //formdata will put on header\r\n\r\n            console.log(response.data.token);//token\r\n\r\n            //dispatch action to reducer \r\n\r\n            dispatch({type: \"AUTH_USER\", data: response.data.token});\r\n\r\n            localStorage.setItem('token', response.data.token);\r\n\r\n            cb();\r\n\r\n        }\r\n        catch(e){\r\n            console.log('error');\r\n            console.log(e);\r\n        }\r\n    }\r\n}\r\n\r\n//logging into application\r\n\r\nexport const signIn = (formData, cb) => {\r\n    \r\n    return async dispatch =>{\r\n\r\n        try{\r\n            let response = await axios.post('http://localhost:3001/signin', formData);\r\n\r\n            dispatch({type: \"AUTH_USER\", data: response.data.token});\r\n\r\n            console.log('signin', response.data.token);\r\n            localStorage.setItem('token', response.data.token);\r\n\r\n            cb();\r\n        }\r\n        catch(e){\r\n\r\n        }\r\n    }\r\n}\r\n\r\n//logout\r\n\r\nexport const signOut = (cb) => {\r\n\r\n    return dispatch=> {\r\n        localStorage.removeItem('token');\r\n        dispatch({\r\n            type: \"AUTH_USER\",\r\n            data: ''\r\n        })\r\n\r\n        console.log('signing out');\r\n\r\n        cb();\r\n    }\r\n      \r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import actionTypes from './actionTypes';\r\n// import axios from 'axios';\r\n\r\n\r\n// export const signUp = (formData, cb) => {\r\n    \r\n//     console.log(formData)\r\n//     // take email and password \r\n//     // call server API \r\n//     // wait for an authenticated token \r\n//     // call reducer to store token \r\n\r\n//     // formData => {email, password}\r\n\r\n//     // returning a function not an object\r\n//     // return dispatch => .... could be seen like this on one line \r\n\r\n//     // SIGN UP\r\n//     return async dispatch => {\r\n\r\n//         try{\r\n//             let response = await axios.post('http://localhost:3001/signup', formData) //form data will be put on header\r\n            \r\n//             console.log(\"signUp\", response.data.token); //response should give back a token\r\n            \r\n//             // dispatch action to reducer\r\n\r\n//             dispatch({type: \"AUTH_USER\", data: response.data.token});\r\n\r\n//             localStorage.setItem('token', response.data.token);\r\n\r\n//             cb();\r\n//         }\r\n//         catch(e){\r\n//             console.log('error')\r\n//             console.log(e);\r\n//         }\r\n\r\n//     }\r\n// }\r\n\r\n// // SIGN IN\r\n\r\n// export const signIn = (formData) => {\r\n    \r\n//     return async dispatch => {\r\n\r\n//         try{\r\n//             let response = await axios.post('http://localhost:3001/signin', formData);\r\n//             dispatch({type: \"AUTH_USER\", data: response.data.token})\r\n\r\n//             console.log(\"signIn\", response.data.token)\r\n//             localStorage.setItem('token', response.data.token);\r\n//         }\r\n//         catch(e){\r\n//             console.log(e)\r\n//         }\r\n\r\n//     }\r\n\r\n// }\r\n\r\n\r\n// // SIGN OUT: clears out the token from global state and local storage\r\n\r\n// export const signOut = () => {\r\n\r\n//     localStorage.removeItem('token');\r\n\r\n//     console.log(\"signing out\")\r\n//     return {\r\n//         type: \"AUTH_USER\",\r\n//         data: ''\r\n//     }\r\n// }\r\n\r\n"]},"metadata":{},"sourceType":"module"}